"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,_toPropertyKey(a.key),a)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"===_typeof(e)?e:String(e)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var imageNumber,displaySrcPath,numberOfImages,nav=document.querySelector(".navbar"),navIcon=document.querySelector(".navbar-hamburger"),navLinks=document.querySelectorAll(".navbar__link"),logos=document.querySelectorAll(".logo"),listItems=document.querySelectorAll(".offer-products-box__list-item-button"),imageCarouselBtns=document.querySelectorAll(".offer-products-box-images__btn"),image=document.querySelector(".offer-products-box-images__img"),copyrightSpan=document.querySelector(".footer-box__copyright-year"),handleNav=function(){nav.classList.toggle("navbar-links--active"),navIcon.classList.toggle("navbar-hamburger--active")},handleNavByLogo=function(){nav.classList.contains("navbar-links--active")&&navIcon.classList.contains("navbar-hamburger--active")&&(nav.classList.remove("navbar-links--active"),navIcon.classList.remove("navbar-hamburger--active"))},turnItemsArrowDown=function(){document.querySelectorAll("i[data-item]").forEach(function(e){e.classList.remove("fa-chevron-up"),e.classList.add("fa-chevron-down")})},handleItemVariables=function(e){var t=document.querySelectorAll("[data-description]"),r=document.querySelector('[data-description="'.concat(e,'"]')),e=document.querySelector('i[data-item="'.concat(e,'"'));r.classList.contains("offer-products-box__list-item-description--active")?(r.classList.remove("offer-products-box__list-item-description--active"),image.setAttribute("src","/dist/img/offer/main-image.webp"),image.setAttribute("alt","Opis standardowych rozwiązań obróbek blacharskich, które wykonujemy według potrzeb klienta. Standardowa długość obróbki wynosi 2m."),imageCarouselBtns.forEach(function(e){e.classList.add("offer-products-box-images__btn--hidden")}),turnItemsArrowDown()):(t.forEach(function(e){e.classList.remove("offer-products-box__list-item-description--active")}),r.classList.add("offer-products-box__list-item-description--active"),turnItemsArrowDown(),e.classList.remove("fa-chevron-down"),e.classList.add("fa-chevron-up"))},handleCarousel=function(e){var t=document.querySelector(".offer-products-box-images__img");"right"===e.target.dataset.direction&&imageNumber!=numberOfImages?(imageNumber++,t.setAttribute("src","/dist/img/offer/".concat(displaySrcPath,"/").concat(imageNumber,".webp"))):"left"===e.target.dataset.direction&&1!==imageNumber?(imageNumber--,t.setAttribute("src","/dist/img/offer/".concat(displaySrcPath,"/").concat(imageNumber,".webp"))):"left"===e.target.dataset.direction&&1===imageNumber?(imageNumber=numberOfImages,t.setAttribute("src","/dist/img/offer/".concat(displaySrcPath,"/").concat(numberOfImages,".webp"))):"right"===e.target.dataset.direction&&imageNumber==numberOfImages&&(imageNumber=1,t.setAttribute("src","/dist/img/offer/".concat(displaySrcPath,"/").concat(imageNumber,".webp")))},CreateOfferDisplay=_createClass(function e(t,r,a,o){_classCallCheck(this,e),this.offerType=t,this.itemNumber=r,this.displaySrcPath=a,this.numberOfImages=o}),handleOfferType=(CreateOfferDisplay.prototype.handleOfferDisplay=function(e){var t=document.querySelector(".offer-products-box-images__img");imageNumber=1,t.setAttribute("src","/dist/img/offer/".concat(this.displaySrcPath,"/").concat(imageNumber,".webp")),t.setAttribute("alt","Wybrana obróbka blacharska"),"carousel"===this.offerType?imageCarouselBtns.forEach(function(e){e.classList.remove("offer-products-box-images__btn--hidden")}):imageCarouselBtns.forEach(function(e){e.classList.add("offer-products-box-images__btn--hidden")}),handleItemVariables(this.itemNumber)},function(e){displaySrcPath=e.target.dataset.displaySrcPath,numberOfImages=e.target.dataset.numberOfImages;var t=e.target.dataset.offerType,r=e.target.dataset.item;new CreateOfferDisplay(t,r,displaySrcPath,numberOfImages).handleOfferDisplay(e)}),submitFormBtn=document.querySelector(".contact-box-form__submit-button"),sendEmail=function(e,t,r,a){Email.send({SecureToken:"f92e3f5f-f024-4385-8998-1d6a74ce63ad",To:"asdasdq391@gmail.com",From:"patrykskontakt@gmail.com",Subject:"Wiadomość kontaktowa od ".concat(t.value),Body:"<b> Imię: </b> ".concat(e.value," <br>\n\t\t\t<b> E-mail: </b> ").concat(t.value,"\t\t<br>\n\t\t\t<b> Numer tel.: </b> ").concat(r.value," <br>\n\t\t\t<b> Treść wiadomości: </b> ").concat(a.value)}).then(function(e){return alert("wiadomosc wyslana")})},resetForm=function(e,t,r,a,o){e.value="",t.value="",r.value="",a.value="",o.checked=!1},checkName=function(){var e=document.querySelector("#name"),t=document.querySelector(".contact-box-form__error-message--name");if(3<=e.value.length&&e.value.match(/^[a-z\s]*$/gi))return t.classList.remove("contact-box-form__error-message--visible"),e;t.classList.add("contact-box-form__error-message--visible")},checkEmail=function(){var e=document.querySelector("#email"),t=document.querySelector(".contact-box-form__error-message--email");if(e.value.match(/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/gi))return t.classList.remove("contact-box-form__error-message--visible"),e;t.classList.add("contact-box-form__error-message--visible")},checkTel=function(){var e=document.querySelector("#tel"),t=document.querySelector(".contact-box-form__error-message--tel");if(9<=e.value.length&&e.value.match(/^(\+{0,})(\d{0,})([(]{1}\d{1,3}[)]{0,}){0,}(\s?\d+|\+\d{2,3}\s{1}\d+|\d+){1}[\s|-]?\d+([\s|-]?\d+){1,2}(\s){0,}$/gm))return t.classList.remove("contact-box-form__error-message--visible"),e;t.classList.add("contact-box-form__error-message--visible")},checkMsg=function(){var e=document.querySelector("#message"),t=document.querySelector(".contact-box-form__error-message--message");if(3<=e.value.length)return t.classList.remove("contact-box-form__error-message--visible"),e;t.classList.add("contact-box-form__error-message--visible")},checkDataProcessing=function(e){var t=document.querySelector(".contact-box-form__error-message--data-processing");if(e.checked)return t.classList.remove("contact-box-form__error-message--visible"),!0;t.classList.add("contact-box-form__error-message--visible")},handleForm=function(e){e.preventDefault();var t,r,e=document.querySelector("#data-processing"),a=checkName(),o=checkEmail(),c=checkTel(),n=checkMsg(),s=checkDataProcessing(e),i=0;[a,o,c,n,s].forEach(function(e){null!=e&&i++}),5===i&&(t=document.querySelector(".contact-box-form-message-sent-bg"),r=document.querySelector(".contact-box-form-message-sent-content"),[document.querySelector(".contact-box-form-message-sent-content__confirm-button"),t].forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),t.classList.add("contact-box-form-message-sent-bg--hidden"),r.classList.add("contact-box-form-message-sent-content--hidden")})}),t.classList.remove("contact-box-form-message-sent-bg--hidden"),r.classList.remove("contact-box-form-message-sent-content--hidden"),resetForm(a,o,c,n,e))},handleCopyrightYear=function(){var e=(new Date).getFullYear();copyrightSpan.textContent=e};navIcon.addEventListener("click",handleNav),navLinks.forEach(function(e){return e.addEventListener("click",handleNav)}),logos.forEach(function(e){return e.addEventListener("click",handleNavByLogo)}),imageCarouselBtns.forEach(function(e){return e.addEventListener("click",handleCarousel)}),listItems.forEach(function(e){return e.addEventListener("click",handleOfferType)}),submitFormBtn.addEventListener("click",handleForm),handleCopyrightYear();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsibmF2IiwiZG9jdW1lbnQiLCJudW1iZXJPZkltYWdlcyIsInF1ZXJ5U2VsZWN0b3IiLCJuYXZJY29uIiwibmF2TGlua3MiLCJxdWVyeVNlbGVjdG9yQWxsIiwibG9nb3MiLCJsaXN0SXRlbXMiLCJpbWFnZUNhcm91c2VsQnRucyIsImltYWdlIiwiY2xhc3NMaXN0IiwiaGFuZGxlTmF2IiwidG9nZ2xlIiwiY29udGFpbnMiLCJyZW1vdmUiLCJ0dXJuSXRlbXNBcnJvd0Rvd24iLCJpdGVtQXJyb3ciLCJpdGVtc0Fycm93IiwiYWRkIiwiaGFuZGxlSXRlbVZhcmlhYmxlcyIsIml0ZW1OdW1iZXIiLCJpdGVtRGVzY3JpcHRpb25zIiwiaXRlbURlc2NyaXB0aW9uIiwic2V0QXR0cmlidXRlIiwiYnRuIiwiZm9yRWFjaCIsImRhdGFzZXQiLCJpbWFnZU51bWJlciIsImRpcmVjdGlvbiIsImNvbmNhdCIsImRpc3BsYXlTcmNQYXRoIiwiZSIsInRhcmdldCIsIkNyZWF0ZU9mZmVyRGlzcGxheSIsIm9mZmVyVHlwZSIsInByb3RvdHlwZSIsIl9jbGFzc0NhbGxDaGVjayIsInRoaXMiLCJCb2R5IiwiaGFuZGxlT2ZmZXJEaXNwbGF5IiwiaGFuZGxlT2ZmZXJUeXBlIiwiY2hvc2VuT2ZmZXIiLCJzdWJtaXRGb3JtQnRuIiwibWVzc2FnZSIsInJlc2V0Rm9ybSIsInVzZXJOYW1lIiwidmFsdWUiLCJjaGVja05hbWUiLCJuYW1lVmFsaWRhdGlvbiIsInVzZXJFbWFpbCIsInVzZXJUZWwiLCJ1c2VyTXNnIiwiRW1haWwiLCJuYW1lRXJyb3IiLCJTZWN1cmVUb2tlbiIsIlRvIiwiRnJvbSIsIlN1YmplY3QiLCJjaGVja0VtYWlsIiwidGhlbiIsImVtYWlsRXJyb3IiLCJkYXRhUHJvY2Vzc2luZ0NoZWNrYm94IiwidW5kZWZpbmVkIiwiY2hlY2tlZCIsInRlbEVycm9yIiwidGVsVmFsaWRhdGlvbiIsImxlbmd0aCIsIm1hdGNoIiwibWVzc2FnZUVycm9yIiwiY2hlY2tEYXRhUHJvY2Vzc2luZyIsImNoZWNrVGVsIiwiZGF0YVByb2Nlc3NpbmciLCJ2YWxpZGF0aW9uc1Bhc3NlZCIsIm1lc3NhZ2VTZW50QmFja2dyb3VuZCIsIm1lc3NhZ2VTZW50Q29udGVudCIsImNvbmZpcm1CdXR0b24iLCJldmVudExpc3RlbmVyc0FycmF5IiwiZGF0YVByb2Nlc3NpbmdFcnJvciIsImhhbmRsZUZvcm0iLCJhZGRFdmVudExpc3RlbmVyIiwibG9nbyIsImNoZWNrTXNnIiwiaGFuZGxlQ2Fyb3VzZWwiLCJpdGVtIiwidmFyaWFibGUiLCJsaXN0ZW5lciIsInByZXZlbnREZWZhdWx0IiwiaGFuZGxlQ29weXJpZ2h0WWVhciIsImFjdHVhbFllYXIiLCJEYXRlIiwiZ2V0RnVsbFllYXIiLCJjb3B5cmlnaHRTcGFuIiwidGV4dENvbnRlbnQiLCJsaW5rIiwiaGFuZGxlTmF2QnlMb2dvIl0sIm1hcHBpbmdzIjoiMmpDQUFBLElBQU1BLFlBQU1DLGVBQXVCQyxlQUE3QkYsSUFBTUMsU0FBU0UsY0FBYyxTQUFTLEVBQ3RDQyxRQUFVSCxTQUFTRSxjQUFjLG1CQUFtQixFQUNwREUsU0FBV0osU0FBU0ssaUJBQWlCLGVBQWUsRUFDcERDLE1BQVFOLFNBQVNLLGlCQUFpQixPQUFPLEVBRXpDRSxVQUFZUCxTQUFTSyxpQkFBaUIsdUNBQXVDLEVBQzdFRyxrQkFBb0JSLFNBQVNLLGlCQUFpQixpQ0FBaUMsRUFDL0VJLE1BQVFULFNBQVNFLGNBQWMsaUNBQWlDLEVBTGhFRSxjQUFXSixTQUFTSyxjQUFpQiw2QkFBZ0IsRUFHckRFLFVBQVlQLFdBQ2xCRCxJQUFNUyxVQUFBQSxPQUFpQixzQkFBWUgsRUFDbkNGLFFBQVdPLFVBQUdWLE9BQVNFLDBCQUFjLENBQ3JDLEVBSU1TLGdCQUFZLFdBQ2RaLElBQUNXLFVBQVVFLFNBQU8sc0JBQXVCLEdBQUFULFFBQUFPLFVBQUFHLFNBQUEsMEJBQUEsSUFDNUNWLElBQUFBLFVBQVFPLE9BQVVFLHNCQUFPLEVBQ3pCVCxRQUFBTyxVQUFB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SUEsRUFBS2QsaUJBQWlCLFFBQVNwRSxTQUFTLENBQUMsQ0FBQSxFQUNsRUwsTUFBTW1CLFFBQVEsU0FBQXVELEdBQUksT0FBSUEsRUFBS0QsaUJBQWlCLFFBQVNlLGVBQWUsQ0FBQyxDQUFBLEVBRXJFdEYsa0JBQWtCaUIsUUFBUSxTQUFBRCxHQUFHLE9BQUlBLEVBQUl1RCxpQkFBaUIsUUFBU0csY0FBYyxDQUFDLENBQUEsRUFDOUUzRSxVQUFVa0IsUUFBUSxTQUFBMEQsR0FBSSxPQUFJQSxFQUFLSixpQkFBaUIsUUFBU3ZDLGVBQWUsQ0FBQyxDQUFBLEVBRXpFRSxjQUFjcUMsaUJBQWlCLFFBQVNELFVBQVUsRUFFbERTLG9CQUFtQiIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG5hdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZiYXInKTtcclxuY29uc3QgbmF2SWNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZiYXItaGFtYnVyZ2VyJyk7XHJcbmNvbnN0IG5hdkxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5hdmJhcl9fbGluaycpO1xyXG5jb25zdCBsb2dvcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5sb2dvJyk7XHJcblxyXG5jb25zdCBsaXN0SXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcub2ZmZXItcHJvZHVjdHMtYm94X19saXN0LWl0ZW0tYnV0dG9uJyk7XHJcbmNvbnN0IGltYWdlQ2Fyb3VzZWxCdG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm9mZmVyLXByb2R1Y3RzLWJveC1pbWFnZXNfX2J0bicpO1xyXG5jb25zdCBpbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5vZmZlci1wcm9kdWN0cy1ib3gtaW1hZ2VzX19pbWcnKTtcclxubGV0IGltYWdlTnVtYmVyLCBkaXNwbGF5U3JjUGF0aCwgbnVtYmVyT2ZJbWFnZXM7XHJcblxyXG5jb25zdCBjb3B5cmlnaHRTcGFuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvb3Rlci1ib3hfX2NvcHlyaWdodC15ZWFyJyk7XHJcblxyXG5jb25zdCBoYW5kbGVOYXYgPSAoKSA9PiB7XHJcblx0bmF2LmNsYXNzTGlzdC50b2dnbGUoJ25hdmJhci1saW5rcy0tYWN0aXZlJyk7XHJcblx0bmF2SWNvbi5jbGFzc0xpc3QudG9nZ2xlKCduYXZiYXItaGFtYnVyZ2VyLS1hY3RpdmUnKTtcclxufTtcclxuXHJcbmNvbnN0IGhhbmRsZU5hdkJ5TG9nbyA9ICgpID0+IHtcclxuXHRpZiAobmF2LmNsYXNzTGlzdC5jb250YWlucygnbmF2YmFyLWxpbmtzLS1hY3RpdmUnKSAmJiBuYXZJY29uLmNsYXNzTGlzdC5jb250YWlucygnbmF2YmFyLWhhbWJ1cmdlci0tYWN0aXZlJykpIHtcclxuXHRcdG5hdi5jbGFzc0xpc3QucmVtb3ZlKCduYXZiYXItbGlua3MtLWFjdGl2ZScpO1xyXG5cdFx0bmF2SWNvbi5jbGFzc0xpc3QucmVtb3ZlKCduYXZiYXItaGFtYnVyZ2VyLS1hY3RpdmUnKTtcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCB0dXJuSXRlbXNBcnJvd0Rvd24gPSAoKSA9PiB7XHJcblx0Y29uc3QgaXRlbXNBcnJvdyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYGlbZGF0YS1pdGVtXWApO1xyXG5cclxuXHRpdGVtc0Fycm93LmZvckVhY2goaXRlbUFycm93ID0+IHtcclxuXHRcdGl0ZW1BcnJvdy5jbGFzc0xpc3QucmVtb3ZlKCdmYS1jaGV2cm9uLXVwJyk7XHJcblx0XHRpdGVtQXJyb3cuY2xhc3NMaXN0LmFkZCgnZmEtY2hldnJvbi1kb3duJyk7XHJcblx0fSk7XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVJdGVtVmFyaWFibGVzID0gaXRlbU51bWJlciA9PiB7XHJcblx0Y29uc3QgaXRlbURlc2NyaXB0aW9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWRlc2NyaXB0aW9uXScpO1xyXG5cdGNvbnN0IGl0ZW1EZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWRlc2NyaXB0aW9uPVwiJHtpdGVtTnVtYmVyfVwiXWApO1xyXG5cdGNvbnN0IGl0ZW1BcnJvdyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYGlbZGF0YS1pdGVtPVwiJHtpdGVtTnVtYmVyfVwiYCk7XHJcblxyXG5cdGlmIChpdGVtRGVzY3JpcHRpb24uY2xhc3NMaXN0LmNvbnRhaW5zKCdvZmZlci1wcm9kdWN0cy1ib3hfX2xpc3QtaXRlbS1kZXNjcmlwdGlvbi0tYWN0aXZlJykpIHtcclxuXHRcdGl0ZW1EZXNjcmlwdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCdvZmZlci1wcm9kdWN0cy1ib3hfX2xpc3QtaXRlbS1kZXNjcmlwdGlvbi0tYWN0aXZlJyk7XHJcblxyXG5cdFx0aW1hZ2Uuc2V0QXR0cmlidXRlKCdzcmMnLCBgL2Rpc3QvaW1nL29mZmVyL21haW4taW1hZ2Uud2VicGApO1xyXG5cdFx0aW1hZ2Uuc2V0QXR0cmlidXRlKFxyXG5cdFx0XHQnYWx0JyxcclxuXHRcdFx0YE9waXMgc3RhbmRhcmRvd3ljaCByb3p3acSFemHFhCBvYnLDs2JlayBibGFjaGFyc2tpY2gsIGt0w7NyZSB3eWtvbnVqZW15IHdlZMWCdWcgcG90cnplYiBrbGllbnRhLiBTdGFuZGFyZG93YSBkxYJ1Z2/Fm8SHIG9icsOzYmtpIHd5bm9zaSAybS5gLFxyXG5cdFx0KTtcclxuXHJcblx0XHRpbWFnZUNhcm91c2VsQnRucy5mb3JFYWNoKGJ0biA9PiB7XHJcblx0XHRcdGJ0bi5jbGFzc0xpc3QuYWRkKCdvZmZlci1wcm9kdWN0cy1ib3gtaW1hZ2VzX19idG4tLWhpZGRlbicpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0dHVybkl0ZW1zQXJyb3dEb3duKCk7XHJcblx0fSBlbHNlIHtcclxuXHRcdGl0ZW1EZXNjcmlwdGlvbnMuZm9yRWFjaChpdGVtRGVzY3JpcHRpb24gPT4ge1xyXG5cdFx0XHRpdGVtRGVzY3JpcHRpb24uY2xhc3NMaXN0LnJlbW92ZSgnb2ZmZXItcHJvZHVjdHMtYm94X19saXN0LWl0ZW0tZGVzY3JpcHRpb24tLWFjdGl2ZScpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0aXRlbURlc2NyaXB0aW9uLmNsYXNzTGlzdC5hZGQoJ29mZmVyLXByb2R1Y3RzLWJveF9fbGlzdC1pdGVtLWRlc2NyaXB0aW9uLS1hY3RpdmUnKTtcclxuXHJcblx0XHR0dXJuSXRlbXNBcnJvd0Rvd24oKTtcclxuXHRcdGl0ZW1BcnJvdy5jbGFzc0xpc3QucmVtb3ZlKCdmYS1jaGV2cm9uLWRvd24nKTtcclxuXHRcdGl0ZW1BcnJvdy5jbGFzc0xpc3QuYWRkKCdmYS1jaGV2cm9uLXVwJyk7XHJcblx0fVxyXG59O1xyXG5cclxuY29uc3QgaGFuZGxlQ2Fyb3VzZWwgPSBlID0+IHtcclxuXHRjb25zdCBpbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5vZmZlci1wcm9kdWN0cy1ib3gtaW1hZ2VzX19pbWcnKTtcclxuXHJcblx0aWYgKGUudGFyZ2V0LmRhdGFzZXQuZGlyZWN0aW9uID09PSAncmlnaHQnICYmIGltYWdlTnVtYmVyICE9IG51bWJlck9mSW1hZ2VzKSB7XHJcblx0XHRpbWFnZU51bWJlcisrO1xyXG5cdFx0aW1hZ2Uuc2V0QXR0cmlidXRlKCdzcmMnLCBgL2Rpc3QvaW1nL29mZmVyLyR7ZGlzcGxheVNyY1BhdGh9LyR7aW1hZ2VOdW1iZXJ9LndlYnBgKTtcclxuXHR9IGVsc2UgaWYgKGUudGFyZ2V0LmRhdGFzZXQuZGlyZWN0aW9uID09PSAnbGVmdCcgJiYgaW1hZ2VOdW1iZXIgIT09IDEpIHtcclxuXHRcdGltYWdlTnVtYmVyLS07XHJcblx0XHRpbWFnZS5zZXRBdHRyaWJ1dGUoJ3NyYycsIGAvZGlzdC9pbWcvb2ZmZXIvJHtkaXNwbGF5U3JjUGF0aH0vJHtpbWFnZU51bWJlcn0ud2VicGApO1xyXG5cdH0gZWxzZSBpZiAoZS50YXJnZXQuZGF0YXNldC5kaXJlY3Rpb24gPT09ICdsZWZ0JyAmJiBpbWFnZU51bWJlciA9PT0gMSkge1xyXG5cdFx0aW1hZ2VOdW1iZXIgPSBudW1iZXJPZkltYWdlcztcclxuXHRcdGltYWdlLnNldEF0dHJpYnV0ZSgnc3JjJywgYC9kaXN0L2ltZy9vZmZlci8ke2Rpc3BsYXlTcmNQYXRofS8ke251bWJlck9mSW1hZ2VzfS53ZWJwYCk7XHJcblx0fSBlbHNlIGlmIChlLnRhcmdldC5kYXRhc2V0LmRpcmVjdGlvbiA9PT0gJ3JpZ2h0JyAmJiBpbWFnZU51bWJlciA9PSBudW1iZXJPZkltYWdlcykge1xyXG5cdFx0aW1hZ2VOdW1iZXIgPSAxO1xyXG5cdFx0aW1hZ2Uuc2V0QXR0cmlidXRlKCdzcmMnLCBgL2Rpc3QvaW1nL29mZmVyLyR7ZGlzcGxheVNyY1BhdGh9LyR7aW1hZ2VOdW1iZXJ9LndlYnBgKTtcclxuXHR9XHJcbn07XHJcbmNsYXNzIENyZWF0ZU9mZmVyRGlzcGxheSB7XHJcblx0Y29uc3RydWN0b3Iob2ZmZXJUeXBlLCBpdGVtTnVtYmVyLCBkaXNwbGF5U3JjUGF0aCwgbnVtYmVyT2ZJbWFnZXMpIHtcclxuXHRcdCh0aGlzLm9mZmVyVHlwZSA9IG9mZmVyVHlwZSksXHJcblx0XHRcdCh0aGlzLml0ZW1OdW1iZXIgPSBpdGVtTnVtYmVyKSxcclxuXHRcdFx0KHRoaXMuZGlzcGxheVNyY1BhdGggPSBkaXNwbGF5U3JjUGF0aCksXHJcblx0XHRcdCh0aGlzLm51bWJlck9mSW1hZ2VzID0gbnVtYmVyT2ZJbWFnZXMpO1xyXG5cdH1cclxufVxyXG5cclxuQ3JlYXRlT2ZmZXJEaXNwbGF5LnByb3RvdHlwZS5oYW5kbGVPZmZlckRpc3BsYXkgPSBmdW5jdGlvbiAoZSkge1xyXG5cdGNvbnN0IGltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm9mZmVyLXByb2R1Y3RzLWJveC1pbWFnZXNfX2ltZycpO1xyXG5cclxuXHRpbWFnZU51bWJlciA9IDE7XHJcblx0aW1hZ2Uuc2V0QXR0cmlidXRlKCdzcmMnLCBgL2Rpc3QvaW1nL29mZmVyLyR7dGhpcy5kaXNwbGF5U3JjUGF0aH0vJHtpbWFnZU51bWJlcn0ud2VicGApO1xyXG5cdGltYWdlLnNldEF0dHJpYnV0ZSgnYWx0JywgYFd5YnJhbmEgb2Jyw7Nia2EgYmxhY2hhcnNrYWApO1xyXG5cclxuXHRpZiAodGhpcy5vZmZlclR5cGUgPT09ICdjYXJvdXNlbCcpIHtcclxuXHRcdGltYWdlQ2Fyb3VzZWxCdG5zLmZvckVhY2goYnRuID0+IHtcclxuXHRcdFx0YnRuLmNsYXNzTGlzdC5yZW1vdmUoJ29mZmVyLXByb2R1Y3RzLWJveC1pbWFnZXNfX2J0bi0taGlkZGVuJyk7XHJcblx0XHR9KTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0aW1hZ2VDYXJvdXNlbEJ0bnMuZm9yRWFjaChidG4gPT4ge1xyXG5cdFx0XHRidG4uY2xhc3NMaXN0LmFkZCgnb2ZmZXItcHJvZHVjdHMtYm94LWltYWdlc19fYnRuLS1oaWRkZW4nKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHRoYW5kbGVJdGVtVmFyaWFibGVzKHRoaXMuaXRlbU51bWJlcik7XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVPZmZlclR5cGUgPSBlID0+IHtcclxuXHRkaXNwbGF5U3JjUGF0aCA9IGUudGFyZ2V0LmRhdGFzZXQuZGlzcGxheVNyY1BhdGg7XHJcblx0bnVtYmVyT2ZJbWFnZXMgPSBlLnRhcmdldC5kYXRhc2V0Lm51bWJlck9mSW1hZ2VzO1xyXG5cclxuXHRjb25zdCBvZmZlclR5cGUgPSBlLnRhcmdldC5kYXRhc2V0Lm9mZmVyVHlwZTtcclxuXHRjb25zdCBpdGVtTnVtYmVyID0gZS50YXJnZXQuZGF0YXNldC5pdGVtO1xyXG5cclxuXHRjb25zdCBjaG9zZW5PZmZlciA9IG5ldyBDcmVhdGVPZmZlckRpc3BsYXkob2ZmZXJUeXBlLCBpdGVtTnVtYmVyLCBkaXNwbGF5U3JjUGF0aCwgbnVtYmVyT2ZJbWFnZXMpO1xyXG5cclxuXHRjaG9zZW5PZmZlci5oYW5kbGVPZmZlckRpc3BsYXkoZSk7XHJcbn07XHJcblxyXG5jb25zdCBzdWJtaXRGb3JtQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhY3QtYm94LWZvcm1fX3N1Ym1pdC1idXR0b24nKTtcclxuXHJcbmNvbnN0IHNlbmRFbWFpbCA9ICh1c2VyTmFtZSwgdXNlckVtYWlsLCB1c2VyVGVsLCB1c2VyTXNnKSA9PiB7XHJcblx0RW1haWwuc2VuZCh7XHJcblx0XHRTZWN1cmVUb2tlbjogJ2Y5MmUzZjVmLWYwMjQtNDM4NS04OTk4LTFkNmE3NGNlNjNhZCcsXHJcblx0XHQvLyBIb3N0OiAnc210cC5lbGFzdGljZW1haWwuY29tJyxcclxuXHRcdC8vIFVzZXJuYW1lOiAncGF0cnlrc2tvbnRha3RAZ21haWwuY29tJyxcclxuXHRcdC8vIFBhc3N3b3JkOiAnQzFGRUQ1NTRCN0E5OEZFMUI5REEwNUQ4ODlCOTEwOURCREIyJyxcclxuXHRcdFRvOiAnYXNkYXNkcTM5MUBnbWFpbC5jb20nLFxyXG5cdFx0RnJvbTogJ3BhdHJ5a3Nrb250YWt0QGdtYWlsLmNvbScsXHJcblx0XHRTdWJqZWN0OiBgV2lhZG9tb8WbxIcga29udGFrdG93YSBvZCAke3VzZXJFbWFpbC52YWx1ZX1gLFxyXG5cdFx0Qm9keTogYDxiPiBJbWnEmTogPC9iPiAke3VzZXJOYW1lLnZhbHVlfSA8YnI+XHJcblx0XHRcdDxiPiBFLW1haWw6IDwvYj4gJHt1c2VyRW1haWwudmFsdWV9XHRcdDxicj5cclxuXHRcdFx0PGI+IE51bWVyIHRlbC46IDwvYj4gJHt1c2VyVGVsLnZhbHVlfSA8YnI+XHJcblx0XHRcdDxiPiBUcmXFm8SHIHdpYWRvbW/Fm2NpOiA8L2I+ICR7dXNlck1zZy52YWx1ZX1gLFxyXG5cdH0pLnRoZW4obWVzc2FnZSA9PiBhbGVydCgnd2lhZG9tb3NjIHd5c2xhbmEnKSk7XHJcbn07XHJcblxyXG5jb25zdCByZXNldEZvcm0gPSAodXNlck5hbWUsIHVzZXJFbWFpbCwgdXNlclRlbCwgdXNlck1zZywgZGF0YVByb2Nlc3NpbmdDaGVja2JveCkgPT4ge1xyXG5cdHVzZXJOYW1lLnZhbHVlID0gJyc7XHJcblx0dXNlckVtYWlsLnZhbHVlID0gJyc7XHJcblx0dXNlclRlbC52YWx1ZSA9ICcnO1xyXG5cdHVzZXJNc2cudmFsdWUgPSAnJztcclxuXHRkYXRhUHJvY2Vzc2luZ0NoZWNrYm94LmNoZWNrZWQgPSBmYWxzZTtcclxufTtcclxuXHJcbmNvbnN0IGNoZWNrTmFtZSA9ICgpID0+IHtcclxuXHRjb25zdCB1c2VyTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNuYW1lJyk7XHJcblx0Y29uc3QgbmFtZVZhbGlkYXRpb24gPSAvXlthLXpcXHNdKiQvZ2k7XHJcblx0Y29uc3QgbmFtZUVycm9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhY3QtYm94LWZvcm1fX2Vycm9yLW1lc3NhZ2UtLW5hbWUnKTtcclxuXHJcblx0aWYgKHVzZXJOYW1lLnZhbHVlLmxlbmd0aCA+PSAzICYmIHVzZXJOYW1lLnZhbHVlLm1hdGNoKG5hbWVWYWxpZGF0aW9uKSkge1xyXG5cdFx0bmFtZUVycm9yLmNsYXNzTGlzdC5yZW1vdmUoJ2NvbnRhY3QtYm94LWZvcm1fX2Vycm9yLW1lc3NhZ2UtLXZpc2libGUnKTtcclxuXHRcdHJldHVybiB1c2VyTmFtZTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0bmFtZUVycm9yLmNsYXNzTGlzdC5hZGQoJ2NvbnRhY3QtYm94LWZvcm1fX2Vycm9yLW1lc3NhZ2UtLXZpc2libGUnKTtcclxuXHRcdHJldHVybiB1bmRlZmluZWQ7XHJcblx0fVxyXG59O1xyXG5cclxuY29uc3QgY2hlY2tFbWFpbCA9ICgpID0+IHtcclxuXHRjb25zdCB1c2VyRW1haWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZW1haWwnKTtcclxuXHRjb25zdCBlbWFpbFZhbGlkYXRpb24gPSAvXltcXHctXFwuXStAKFtcXHctXStcXC4pK1tcXHctXXsyLDR9JC9naTtcclxuXHRjb25zdCBlbWFpbEVycm9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhY3QtYm94LWZvcm1fX2Vycm9yLW1lc3NhZ2UtLWVtYWlsJyk7XHJcblxyXG5cdGlmICh1c2VyRW1haWwudmFsdWUubWF0Y2goZW1haWxWYWxpZGF0aW9uKSkge1xyXG5cdFx0ZW1haWxFcnJvci5jbGFzc0xpc3QucmVtb3ZlKCdjb250YWN0LWJveC1mb3JtX19lcnJvci1tZXNzYWdlLS12aXNpYmxlJyk7XHJcblx0XHRyZXR1cm4gdXNlckVtYWlsO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRlbWFpbEVycm9yLmNsYXNzTGlzdC5hZGQoJ2NvbnRhY3QtYm94LWZvcm1fX2Vycm9yLW1lc3NhZ2UtLXZpc2libGUnKTtcclxuXHRcdHJldHVybiB1bmRlZmluZWQ7XHJcblx0fVxyXG59O1xyXG5cclxuY29uc3QgY2hlY2tUZWwgPSAoKSA9PiB7XHJcblx0Y29uc3QgdXNlclRlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0ZWwnKTtcclxuXHRjb25zdCB0ZWxFcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWN0LWJveC1mb3JtX19lcnJvci1tZXNzYWdlLS10ZWwnKTtcclxuXHRjb25zdCB0ZWxWYWxpZGF0aW9uID1cclxuXHRcdC9eKFxcK3swLH0pKFxcZHswLH0pKFsoXXsxfVxcZHsxLDN9WyldezAsfSl7MCx9KFxccz9cXGQrfFxcK1xcZHsyLDN9XFxzezF9XFxkK3xcXGQrKXsxfVtcXHN8LV0/XFxkKyhbXFxzfC1dP1xcZCspezEsMn0oXFxzKXswLH0kL2dtO1xyXG5cclxuXHRpZiAodXNlclRlbC52YWx1ZS5sZW5ndGggPj0gOSAmJiB1c2VyVGVsLnZhbHVlLm1hdGNoKHRlbFZhbGlkYXRpb24pKSB7XHJcblx0XHR0ZWxFcnJvci5jbGFzc0xpc3QucmVtb3ZlKCdjb250YWN0LWJveC1mb3JtX19lcnJvci1tZXNzYWdlLS12aXNpYmxlJyk7XHJcblx0XHRyZXR1cm4gdXNlclRlbDtcclxuXHR9IGVsc2Uge1xyXG5cdFx0dGVsRXJyb3IuY2xhc3NMaXN0LmFkZCgnY29udGFjdC1ib3gtZm9ybV9fZXJyb3ItbWVzc2FnZS0tdmlzaWJsZScpO1xyXG5cdFx0cmV0dXJuIHVuZGVmaW5lZDtcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCBjaGVja01zZyA9ICgpID0+IHtcclxuXHRjb25zdCB1c2VyTXNnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21lc3NhZ2UnKTtcclxuXHRjb25zdCBtZXNzYWdlRXJyb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFjdC1ib3gtZm9ybV9fZXJyb3ItbWVzc2FnZS0tbWVzc2FnZScpO1xyXG5cclxuXHRpZiAodXNlck1zZy52YWx1ZS5sZW5ndGggPj0gMykge1xyXG5cdFx0bWVzc2FnZUVycm9yLmNsYXNzTGlzdC5yZW1vdmUoJ2NvbnRhY3QtYm94LWZvcm1fX2Vycm9yLW1lc3NhZ2UtLXZpc2libGUnKTtcclxuXHRcdHJldHVybiB1c2VyTXNnO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRtZXNzYWdlRXJyb3IuY2xhc3NMaXN0LmFkZCgnY29udGFjdC1ib3gtZm9ybV9fZXJyb3ItbWVzc2FnZS0tdmlzaWJsZScpO1xyXG5cdFx0cmV0dXJuIHVuZGVmaW5lZDtcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCBjaGVja0RhdGFQcm9jZXNzaW5nID0gZGF0YVByb2Nlc3NpbmdDaGVja2JveCA9PiB7XHJcblx0Y29uc3QgZGF0YVByb2Nlc3NpbmdFcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWN0LWJveC1mb3JtX19lcnJvci1tZXNzYWdlLS1kYXRhLXByb2Nlc3NpbmcnKTtcclxuXHJcblx0aWYgKGRhdGFQcm9jZXNzaW5nQ2hlY2tib3guY2hlY2tlZCkge1xyXG5cdFx0ZGF0YVByb2Nlc3NpbmdFcnJvci5jbGFzc0xpc3QucmVtb3ZlKCdjb250YWN0LWJveC1mb3JtX19lcnJvci1tZXNzYWdlLS12aXNpYmxlJyk7XHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0ZGF0YVByb2Nlc3NpbmdFcnJvci5jbGFzc0xpc3QuYWRkKCdjb250YWN0LWJveC1mb3JtX19lcnJvci1tZXNzYWdlLS12aXNpYmxlJyk7XHJcblx0XHRyZXR1cm4gdW5kZWZpbmVkO1xyXG5cdH1cclxufTtcclxuXHJcbmNvbnN0IGhhbmRsZUZvcm0gPSBlID0+IHtcclxuXHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG5cdGNvbnN0IGRhdGFQcm9jZXNzaW5nQ2hlY2tib3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZGF0YS1wcm9jZXNzaW5nJyk7XHJcblxyXG5cdGNvbnN0IHVzZXJOYW1lID0gY2hlY2tOYW1lKCk7XHJcblx0Y29uc3QgdXNlckVtYWlsID0gY2hlY2tFbWFpbCgpO1xyXG5cdGNvbnN0IHVzZXJUZWwgPSBjaGVja1RlbCgpO1xyXG5cdGNvbnN0IHVzZXJNc2cgPSBjaGVja01zZygpO1xyXG5cdGNvbnN0IGRhdGFQcm9jZXNzaW5nID0gY2hlY2tEYXRhUHJvY2Vzc2luZyhkYXRhUHJvY2Vzc2luZ0NoZWNrYm94KTtcclxuXHJcblx0Y29uc3QgdmFyaWFibGVzVG9WYWxpZGF0ZSA9IFt1c2VyTmFtZSwgdXNlckVtYWlsLCB1c2VyVGVsLCB1c2VyTXNnLCBkYXRhUHJvY2Vzc2luZ107XHJcblxyXG5cdGxldCB2YWxpZGF0aW9uc1Bhc3NlZCA9IDA7XHJcblxyXG5cdHZhcmlhYmxlc1RvVmFsaWRhdGUuZm9yRWFjaCh2YXJpYWJsZSA9PiB7XHJcblx0XHRpZiAodmFyaWFibGUgIT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdHZhbGlkYXRpb25zUGFzc2VkKys7XHJcblx0XHR9XHJcblx0fSk7XHJcblxyXG5cdGlmICh2YWxpZGF0aW9uc1Bhc3NlZCA9PT0gNSkge1xyXG5cdFx0Y29uc3QgbWVzc2FnZVNlbnRCYWNrZ3JvdW5kID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhY3QtYm94LWZvcm0tbWVzc2FnZS1zZW50LWJnJyk7XHJcblx0XHRjb25zdCBtZXNzYWdlU2VudENvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFjdC1ib3gtZm9ybS1tZXNzYWdlLXNlbnQtY29udGVudCcpO1xyXG5cdFx0Y29uc3QgY29uZmlybUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWN0LWJveC1mb3JtLW1lc3NhZ2Utc2VudC1jb250ZW50X19jb25maXJtLWJ1dHRvbicpO1xyXG5cdFx0Y29uc3QgZXZlbnRMaXN0ZW5lcnNBcnJheSA9IFtjb25maXJtQnV0dG9uLCBtZXNzYWdlU2VudEJhY2tncm91bmRdO1xyXG5cclxuXHRcdGV2ZW50TGlzdGVuZXJzQXJyYXkuZm9yRWFjaChsaXN0ZW5lciA9PiB7XHJcblx0XHRcdGxpc3RlbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XHJcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdG1lc3NhZ2VTZW50QmFja2dyb3VuZC5jbGFzc0xpc3QuYWRkKCdjb250YWN0LWJveC1mb3JtLW1lc3NhZ2Utc2VudC1iZy0taGlkZGVuJyk7XHJcblx0XHRcdFx0bWVzc2FnZVNlbnRDb250ZW50LmNsYXNzTGlzdC5hZGQoJ2NvbnRhY3QtYm94LWZvcm0tbWVzc2FnZS1zZW50LWNvbnRlbnQtLWhpZGRlbicpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdG1lc3NhZ2VTZW50QmFja2dyb3VuZC5jbGFzc0xpc3QucmVtb3ZlKCdjb250YWN0LWJveC1mb3JtLW1lc3NhZ2Utc2VudC1iZy0taGlkZGVuJyk7XHJcblx0XHRtZXNzYWdlU2VudENvbnRlbnQuY2xhc3NMaXN0LnJlbW92ZSgnY29udGFjdC1ib3gtZm9ybS1tZXNzYWdlLXNlbnQtY29udGVudC0taGlkZGVuJyk7XHJcblxyXG5cdFx0Ly8gc2VuZEVtYWlsKHVzZXJOYW1lLCB1c2VyRW1haWwsIHVzZXJUZWwsIHVzZXJNc2cpO1xyXG5cdFx0cmVzZXRGb3JtKHVzZXJOYW1lLCB1c2VyRW1haWwsIHVzZXJUZWwsIHVzZXJNc2csIGRhdGFQcm9jZXNzaW5nQ2hlY2tib3gpO1xyXG5cdH1cclxufTtcclxuXHJcbmNvbnN0IGhhbmRsZUNvcHlyaWdodFllYXIgPSAoKSA9PiB7XHJcblx0Y29uc3QgYWN0dWFsWWVhciA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKTtcclxuXHRjb3B5cmlnaHRTcGFuLnRleHRDb250ZW50ID0gYWN0dWFsWWVhcjtcclxufTtcclxuXHJcbm5hdkljb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVOYXYpO1xyXG5uYXZMaW5rcy5mb3JFYWNoKGxpbmsgPT4gbGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZU5hdikpO1xyXG5sb2dvcy5mb3JFYWNoKGxvZ28gPT4gbG9nby5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZU5hdkJ5TG9nbykpO1xyXG5cclxuaW1hZ2VDYXJvdXNlbEJ0bnMuZm9yRWFjaChidG4gPT4gYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQ2Fyb3VzZWwpKTtcclxubGlzdEl0ZW1zLmZvckVhY2goaXRlbSA9PiBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlT2ZmZXJUeXBlKSk7XHJcblxyXG5zdWJtaXRGb3JtQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlRm9ybSk7XHJcblxyXG5oYW5kbGVDb3B5cmlnaHRZZWFyKCk7XHJcbiJdfQ==
